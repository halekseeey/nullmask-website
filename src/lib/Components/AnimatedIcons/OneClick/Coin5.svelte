<script>
	import { gsap } from 'gsap'
	import { onMount } from 'svelte'

	export let x
	export let y
	export let rotation = 0
	export let animationDuration = 2

	let pathRefs = []

	const pathData = [
		{
			from: 'M53.9211 41.7267C62.2177 42.0983 72.5686 36.7241 77.0426 29.7222C79.2799 26.2139 79.6194 22.9634 78.3556 20.5508L77.0298 18.0235L76.9309 18.7348C75.404 17.3691 73.0941 16.5051 70.1103 16.3715C61.8137 15.9998 51.4629 21.374 46.9888 28.3759C45.4495 30.7823 44.8104 33.065 44.968 35.0403L44.3081 34.9586L45.6545 37.5241C45.6545 37.5241 45.6684 37.5471 45.6681 37.5545L45.7229 37.6613C47.012 40.008 49.8283 41.5508 53.9134 41.7338L53.9211 41.7267Z',
			to: 'M38.9819 38.0481C46.6329 41.2778 58.2058 39.8327 64.8329 34.8204C68.1493 32.3074 69.5964 29.3771 69.2491 26.6758L68.8836 23.8454L68.5437 24.4781C67.5862 22.6672 65.7201 21.0548 62.9685 19.8933C55.3174 16.6636 43.7446 18.1087 37.1175 23.121C34.8383 24.843 33.4463 26.7616 32.9081 28.6688L32.3176 28.3629L32.6893 31.2363C32.6893 31.2363 32.6944 31.2627 32.6915 31.2695L32.7058 31.3888C33.0997 34.037 35.2049 36.4618 38.9721 38.052L38.9819 38.0481Z'
		},
		{
			from: 'M52.572 39.1779C44.2754 38.8062 41.1731 32.8293 45.6397 25.8271C50.1137 18.8252 60.4646 13.451 68.7611 13.8227C77.0577 14.1943 80.16 20.1712 75.6934 27.1734C71.2194 34.1753 60.8686 39.5495 52.572 39.1779Z',
			to: 'M38.6034 35.1869C30.9524 31.9572 30.1188 25.275 36.739 20.2598C43.3661 15.2475 54.939 13.8024 62.59 17.0321C70.2411 20.2619 71.0746 26.944 64.4544 31.9592C57.8273 36.9716 46.2545 38.4166 38.6034 35.1869Z'
		}
	]

	onMount(() => {
		pathRefs.forEach((path, index) => {
			if (path && pathData[index]) {
				path.setAttribute('d', pathData[index].from)
			}
		})

		pathRefs.forEach((path, index) => {
			if (path && pathData[index]) {
				gsap.to(path, {
					duration: animationDuration,
					yoyo: true,
					repeat: -1,
					ease: 'linear',
					attr: { d: pathData[index].to }
				})
			}
		})
	})
</script>

<svg
	{x}
	{y}
	width="80"
	height="54"
	viewBox="0 0 80 54"
	fill="none"
	xmlns="http://www.w3.org/2000/svg"
	style="transform: rotate({rotation}deg); transform-origin: center;"
>
	<path
		d="M53.9211 41.7267C62.2177 42.0983 72.5686 36.7241 77.0426 29.7222C79.2799 26.2139 79.6194 22.9634 78.3556 20.5508L77.0298 18.0235L76.9309 18.7348C75.404 17.3691 73.0941 16.5051 70.1103 16.3715C61.8137 15.9998 51.4629 21.374 46.9888 28.3759C45.4495 30.7823 44.8104 33.065 44.968 35.0403L44.3081 34.9586L45.6545 37.5241C45.6545 37.5241 45.6684 37.5471 45.6681 37.5545L45.7229 37.6613C47.012 40.008 49.8283 41.5508 53.9134 41.7338L53.9211 41.7267Z"
		fill="#CDEF33"
		stroke="#202221"
		stroke-width="0.418422"
		stroke-miterlimit="10"
		bind:this={pathRefs[0]}
	/>
	<path
		d="M52.572 39.1779C44.2754 38.8062 41.1731 32.8293 45.6397 25.8271C50.1137 18.8252 60.4646 13.451 68.7611 13.8227C77.0577 14.1943 80.16 20.1712 75.6934 27.1734C71.2194 34.1753 60.8686 39.5495 52.572 39.1779Z"
		fill="#CDEF33"
		stroke="#202221"
		stroke-width="0.418422"
		stroke-miterlimit="10"
		bind:this={pathRefs[1]}
	/>
</svg>
