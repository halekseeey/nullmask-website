<script>
	import { gsap } from 'gsap'
	import { onMount } from 'svelte'

	export let className = ''
	export let viewMode = 0

	let svgRef

	// Different viewBox modes
	const viewBoxes = [
		{ x: 0, y: 0, width: 436, height: 536 }, //default
		{ x: 50, y: 0, width: 286, height: 536 }, // default - full view
		{ x: 50, y: 0, width: 286, height: 536 }
	]

	$: {
		if (svgRef) {
			const targetViewBox = viewBoxes[viewMode]
			gsap.to(svgRef, {
				duration: 0,
				ease: 'power2.inOut',
				attr: {
					viewBox: `${targetViewBox.x} ${targetViewBox.y} ${targetViewBox.width} ${targetViewBox.height}`
				}
			})
		}
	}

	import Eye from './EyeBase.svelte'
	import EyeBoth from './EyeBoth.svelte'
	import EyeRight from './EyeRight.svelte'
</script>

<svg
	bind:this={svgRef}
	width="436"
	height="536"
	viewBox="0 0 436 536"
	fill="none"
	xmlns="http://www.w3.org/2000/svg"
	class={className}
	preserveAspectRatio={viewMode == 0 ? 'xMidYMid meet' : 'xMinYMid meet'}
>
	<path
		d="M0 0L424.445 419.772C424.445 419.772 478.546 479.398 332.228 507.809C256.241 522.564 168.4 504.918 141.154 491.087C99.3486 473.873 97.1354 449.036 97.1354 449.036L0 0Z"
		fill="#D9D9D9"
	/>
	<path
		d="M266.074 375.512C312.974 375.512 355.422 383.27 386.137 395.805C401.494 402.072 413.906 409.529 422.475 417.797C431.043 426.064 435.754 435.126 435.754 444.613C435.754 454.1 431.043 463.162 422.475 471.429C413.906 479.696 401.494 487.153 386.137 493.421C355.422 505.956 312.974 513.714 266.074 513.714C219.174 513.714 176.726 505.955 146.012 493.421C130.654 487.153 118.242 479.696 109.673 471.429C101.105 463.162 96.3947 454.1 96.3945 444.613C96.3945 435.126 101.105 426.064 109.673 417.797C118.242 409.529 130.654 402.072 146.012 395.805C176.726 383.27 219.175 375.512 266.074 375.512Z"
		fill="#D9D9D9"
		stroke="#202221"
		stroke-width="0.491825"
	/>
	<path
		d="M395.795 431.645L311.468 382.96C307.676 380.762 301.035 381.037 296.656 383.565L135.825 476.419C133.49 477.766 132.152 479.561 132.152 481.357C132.152 482.85 133.087 484.205 134.772 485.176L219.108 533.871C220.83 534.86 223.129 535.345 225.547 535.345C228.46 535.345 231.529 534.64 233.92 533.257L394.751 440.402C397.086 439.056 398.424 437.26 398.424 435.465C398.424 433.981 397.489 432.616 395.795 431.645ZM394.577 440.091L233.746 532.946C229.468 535.419 222.992 535.684 219.291 533.55L134.955 484.865C133.38 483.958 132.519 482.712 132.519 481.357C132.519 479.699 133.792 478.013 136.009 476.731L296.84 383.876C301.117 381.412 307.593 381.137 311.285 383.272L395.621 431.957C397.187 432.864 398.057 434.119 398.057 435.465C398.057 437.123 396.784 438.808 394.567 440.091H394.577Z"
		fill="#202221"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M398.058 435.469C398.058 437.127 396.785 438.813 394.568 440.095L233.737 532.95C229.46 535.423 222.983 535.689 219.283 533.554L134.956 484.869C133.381 483.962 132.52 482.716 132.52 481.361C132.52 479.703 133.793 478.017 136.009 476.735L296.84 383.88C301.118 381.416 307.594 381.141 311.286 383.276L395.622 431.961C397.188 432.868 398.058 434.123 398.058 435.469Z"
		fill="#202221"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M396.975 409.529L384.866 411.618L310.12 368.465C306.374 366.303 299.825 366.569 295.492 369.07L152.486 451.629L131.07 455.311V462.905C131.061 464.288 131.886 465.616 133.589 466.596L217.916 515.281C221.663 517.443 228.212 517.178 232.545 514.677L393.376 421.822C395.702 420.476 396.911 418.763 396.948 417.123H396.957V409.529H396.975Z"
		fill="#D9D9D9"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M217.936 507.645L133.6 458.96C129.854 456.798 130.321 453.015 134.653 450.514L295.484 357.659C299.817 355.159 306.366 354.884 310.113 357.055L394.44 405.74C398.186 407.902 397.719 411.685 393.386 414.186L232.555 507.04C228.223 509.541 221.673 509.816 217.927 507.645H217.936Z"
		fill="#D9D9D9"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M393.395 414.187L232.564 507.042C228.231 509.543 221.682 509.817 217.936 507.646L133.6 458.961C132.097 458.091 131.282 456.964 131.108 455.764C130.879 457.321 131.685 458.842 133.6 459.95L217.926 508.636C221.673 510.797 228.222 510.532 232.555 508.031L393.386 415.176C395.978 413.683 397.178 411.723 396.922 409.928C396.702 411.43 395.511 412.96 393.386 414.187H393.395Z"
		fill="#D9D9D9"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M218.102 505.748L136.78 458.785C133.152 456.688 133.61 453.033 137.797 450.615L295.641 359.509C299.827 357.091 306.166 356.826 309.793 358.923L391.116 405.886C394.743 407.984 394.285 411.639 390.099 414.057L232.254 505.162C228.068 507.58 221.729 507.846 218.102 505.748Z"
		fill="#D9D9D9"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M373.74 408.429C372.495 409.143 370.489 409.143 369.243 408.429C367.997 407.714 367.997 406.551 369.243 405.837C370.489 405.122 372.495 405.122 373.74 405.837C374.986 406.551 374.986 407.714 373.74 408.429Z"
		fill="#D9D9D9"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M356.588 395.933L365.391 401.017C366.463 401.639 366.334 402.72 365.089 403.435C363.843 404.149 361.965 404.232 360.893 403.609L352.091 398.525C351.019 397.902 351.147 396.821 352.393 396.107C353.639 395.392 355.516 395.31 356.588 395.933Z"
		fill="#D9D9D9"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M306.387 365.448L315.19 370.532C316.261 371.155 316.133 372.236 314.887 372.95C313.642 373.665 311.764 373.747 310.692 373.124L301.889 368.041C300.818 367.418 300.946 366.337 302.192 365.622C303.438 364.908 305.315 364.826 306.387 365.448Z"
		fill="#D9D9D9"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M257.847 458.4C246.8 458.4 235.744 455.973 227.335 451.118C219.155 446.391 214.648 440.108 214.648 433.412C214.648 426.716 219.155 420.432 227.335 415.706C244.162 405.987 271.532 405.996 288.359 415.706C296.539 420.432 301.045 426.716 301.045 433.412C301.045 440.108 296.539 446.401 288.359 451.118C279.95 455.973 268.894 458.4 257.847 458.4ZM257.847 408.735C246.855 408.735 235.863 411.153 227.491 415.98C219.412 420.643 214.969 426.835 214.969 433.412C214.969 439.989 219.421 446.181 227.5 450.843C244.235 460.507 271.468 460.507 288.203 450.843C296.282 446.181 300.725 439.989 300.725 433.412C300.725 426.835 296.273 420.643 288.194 415.98C279.822 411.144 268.83 408.735 257.838 408.735H257.847Z"
		fill="#D9D9D9"
	/>
	<path
		d="M257.843 465.108C243.819 465.108 229.795 462.03 219.124 455.865C208.755 449.875 203.039 441.905 203.039 433.423C203.039 424.941 208.755 416.963 219.124 410.981C240.476 398.652 275.211 398.652 296.562 410.981C306.932 416.972 312.647 424.941 312.647 433.423C312.647 441.905 306.932 449.884 296.562 455.865C285.891 462.03 271.867 465.108 257.843 465.108ZM257.843 402.032C243.874 402.032 229.914 405.101 219.28 411.238C209.011 417.164 203.351 425.042 203.351 433.405C203.351 441.777 209.002 449.646 219.28 455.572C240.54 467.847 275.137 467.847 296.398 455.572C306.666 449.646 312.327 441.768 312.327 433.405C312.327 425.042 306.675 417.164 296.398 411.238C285.763 405.101 271.803 402.032 257.834 402.032H257.843Z"
		fill="#D9D9D9"
	/>
	<path
		d="M257.845 453.126C249.133 453.126 240.431 451.212 233.8 447.383C227.351 443.655 223.797 438.69 223.797 433.405C223.797 428.12 227.351 423.155 233.8 419.427C247.063 411.769 268.635 411.769 281.889 419.427C288.338 423.155 291.892 428.12 291.892 433.405C291.892 438.69 288.338 443.655 281.889 447.383C275.258 451.212 266.556 453.126 257.845 453.126ZM257.845 414.013C249.197 414.013 240.541 415.919 233.955 419.72C227.607 423.384 224.108 428.248 224.108 433.423C224.108 438.599 227.607 443.454 233.955 447.127C247.127 454.729 268.562 454.729 281.734 447.127C288.082 443.463 291.581 438.599 291.581 433.423C291.581 428.248 288.082 423.393 281.734 419.72C275.148 415.919 266.501 414.013 257.845 414.013Z"
		fill="#D9D9D9"
	/>
	<path
		d="M182.047 461.095L183.192 460.436L190.785 464.823L189.64 465.483L182.047 461.095Z"
		fill="#D9D9D9"
	/>
	<path
		d="M183.191 460.703L190.327 464.825L189.64 465.218L182.504 461.096L183.191 460.703ZM183.191 460.171L181.588 461.096L189.64 465.741L191.243 464.815L183.191 460.162V460.171Z"
		fill="#202221"
	/>
	<path
		d="M210.322 477.749L211.467 477.09L213.482 478.253L212.337 478.913L210.322 477.749Z"
		fill="#D9D9D9"
	/>
	<path
		d="M211.468 477.365L213.025 478.263L212.338 478.657L210.781 477.759L211.468 477.365ZM211.468 476.834L209.865 477.759L212.338 479.188L213.941 478.263L211.468 476.834Z"
		fill="#202221"
	/>
	<path
		d="M192.287 467.072L193.432 466.412L195.447 467.575L194.302 468.235L192.287 467.072Z"
		fill="#D9D9D9"
	/>
	<path
		d="M193.437 466.678L194.994 467.576L194.307 467.97L192.75 467.072L193.437 466.678ZM193.437 466.156L191.834 467.081L194.307 468.51L195.91 467.585L193.437 466.156Z"
		fill="#202221"
	/>
	<path
		d="M218.972 489.648C217.507 489.648 216.041 489.273 214.731 488.512L164.425 459.466C163.673 459.026 163.225 458.248 163.225 457.378C163.225 456.507 163.673 455.729 164.425 455.289L172.101 450.819C174.72 449.308 177.963 449.308 180.583 450.819L230.889 479.865C231.64 480.296 232.089 481.084 232.089 481.954C232.089 482.824 231.64 483.603 230.889 484.042L223.213 488.512C221.903 489.264 220.438 489.648 218.972 489.648ZM176.351 450.059C174.949 450.059 173.548 450.416 172.293 451.14L164.617 455.61C163.976 455.976 163.591 456.645 163.591 457.378C163.591 458.11 163.976 458.779 164.617 459.146L214.924 488.192C217.424 489.639 220.539 489.639 223.039 488.192L230.715 483.722C231.357 483.355 231.741 482.696 231.741 481.954C231.741 481.212 231.357 480.552 230.715 480.186L180.409 451.14C179.154 450.416 177.752 450.059 176.351 450.059Z"
		fill="#D9D9D9"
	/>
	<path
		d="M176.35 449.693C174.884 449.693 173.418 450.069 172.108 450.829L164.432 455.299C163.681 455.739 163.232 456.518 163.232 457.388C163.232 458.258 163.681 459.037 164.432 459.476L214.739 488.523C216.049 489.274 217.514 489.658 218.98 489.658C220.446 489.658 221.911 489.283 223.221 488.523L230.897 484.052C231.648 483.622 232.097 482.834 232.097 481.964C232.097 481.094 231.648 480.315 230.897 479.875L180.591 450.829C179.281 450.078 177.815 449.693 176.35 449.693ZM218.971 489.283C217.569 489.283 216.168 488.926 214.913 488.202L164.606 459.156C163.965 458.789 163.581 458.121 163.581 457.388C163.581 456.655 163.965 455.986 164.606 455.62L172.282 451.15C173.537 450.426 174.939 450.069 176.34 450.069C177.742 450.069 179.143 450.426 180.398 451.15L230.705 480.196C231.346 480.562 231.731 481.222 231.731 481.964C231.731 482.706 231.346 483.365 230.705 483.732L223.029 488.202C221.774 488.926 220.372 489.283 218.971 489.283Z"
		fill="#202221"
	/>
	<path
		d="M312.068 428.611C299.964 421.745 291.848 412.881 288.846 403.258L288.711 403.178C272.044 401.445 256.693 396.759 244.798 389.77L244.344 389.5L237.833 394.008C214.948 409.855 211.132 425.738 214.189 446.008L214.654 446.277C249.759 448.041 277.281 445.836 304.723 432.624L312.527 428.862L312.062 428.599L312.068 428.611Z"
		fill="#202221"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M311.314 410.185C299.21 403.318 290.635 398.375 287.633 388.752L287.498 388.672C270.831 386.939 255.48 382.253 243.585 375.264L243.131 374.994L236.62 379.503C213.735 395.349 209.919 412.543 212.976 432.807L213.441 434.326C248.546 436.09 276.068 433.885 303.511 420.672L311.314 416.911V410.173V410.185Z"
		fill="#CDEF33"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M213.441 432.704L212.976 431.185C212.437 427.626 212.124 424.165 212.075 420.784C212.026 424.679 212.351 428.679 212.976 432.814L213.441 434.333C248.546 436.097 276.068 433.892 303.511 420.68L311.314 416.918V415.289L303.511 419.05C276.068 432.263 248.546 434.468 213.441 432.704Z"
		fill="#CDEF33"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M310.855 409.924C298.751 403.057 290.635 394.194 287.633 384.57L287.498 384.491C270.831 382.757 255.48 378.071 243.585 371.082L243.131 370.812L236.62 375.321C213.735 391.168 209.919 407.051 212.976 427.32L213.441 427.59C248.546 429.354 276.068 427.149 303.511 413.936L311.314 410.175L310.849 409.912L310.855 409.924Z"
		fill="#CDEF33"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<g opacity="0.2">
		<path
			d="M310.83 417.656C310.996 417.748 311.155 417.84 311.32 417.932L310.855 417.669C310.855 417.669 310.836 417.656 310.83 417.656Z"
			fill="#CDEF33"
			stroke="#202221"
			stroke-width="0.304499"
			stroke-miterlimit="10"
		/>
	</g>
	<path
		opacity="0.2"
		d="M310.824 423.854C310.99 423.945 311.149 424.037 311.314 424.135L310.849 423.872C310.849 423.872 310.831 423.86 310.818 423.854H310.824Z"
		fill="#CDEF33"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M233.595 422.769C259.885 422.769 279.034 418.947 297.631 409.991L298.531 409.556C290.378 403.866 284.651 397.121 281.711 389.752C267.316 387.994 254.176 383.976 243.469 378.053L239.439 380.84C220.241 394.132 216.909 406.769 218.728 422.42C224.094 422.659 228.976 422.769 233.589 422.769H233.595Z"
		fill="#CDEF33"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M297.381 410.114C289.847 404.601 284.512 398.157 281.718 391.137C267.323 389.379 254.184 385.36 243.477 379.437L239.446 382.224C223.471 393.281 218.485 403.896 218.313 416.159C218.13 403.302 222.877 392.313 239.446 380.84L243.477 378.053C254.19 383.982 267.323 388.001 281.718 389.752C284.659 397.128 290.386 403.866 298.539 409.556L297.639 409.991C297.553 410.034 297.467 410.071 297.387 410.114H297.381Z"
		fill="#CDEF33"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M258.399 405.211C261.167 403.612 261.155 401.015 258.368 399.404C255.581 397.793 251.079 397.787 248.31 399.386C246.307 400.544 245.768 402.222 246.674 403.674L238.626 408.323L242.92 410.804L250.968 406.155C253.48 406.681 256.389 406.369 258.399 405.211Z"
		fill="#202221"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>
	<path
		d="M258.374 402.254C255.586 400.643 251.084 400.637 248.316 402.236C246.312 403.394 245.773 405.072 246.68 406.524L241.1 409.746L238.637 408.325L246.686 403.682C245.78 402.23 246.312 400.551 248.322 399.394C251.09 397.795 255.593 397.801 258.38 399.412C260.419 400.588 260.959 402.297 260.021 403.755C259.672 403.21 259.139 402.695 258.38 402.254H258.374Z"
		fill="#CDEF33"
		stroke="#202221"
		stroke-width="0.304499"
		stroke-miterlimit="10"
	/>

	<Eye x={304} y={223} width={26.07} height={15.25} duration={0.4} />
	<EyeRight x={288.45} y={264.6} width={27.33} height={15.74} duration={0.42} />
	<EyeBoth x={359.28} y={264.6} width={15.25} height={8.85} duration={0.5} />
	<Eye x={321.41} y={284.27} width={34.43} height={19.67} duration={0.45} />
	<EyeRight x={354.36} y={301.48} width={30} height={17.21} duration={0.38} />
	<EyeBoth x={347.47} y={328.54} width={16.72} height={9.84} duration={0.37} />
	<Eye x={387.31} y={339.85} width={19.18} height={10.82} />
	<EyeBoth x={68.61} y={412.64} width={17.21} height={9.84} duration={0.35} />
</svg>
